!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.fpc=e()}(this,function(){"use strict";var c={};function t(e,n){return arguments.length<2?function(n){return t(e,n)}:c.typeOf(n)===e}function r(e,n){return arguments.length<2?function(n){return r(e,n)}:t(e,n)?c.unbox(n):c.failWith(new Error("Expected "+e+", got "+c.typeOf(n)))}return c.compose=function(n){c.expect.fun(n);var e=c.slice(arguments,1);function r(){return n.apply(null,c.slice(arguments).concat(e))}return r.with=r.and=function(e){c.expect.fun(e);var t=c.slice(arguments,1);return c.compose(function(){var n=c.unshift(t,r.apply(null,arguments));return e.apply(null,n)})},r.ply=function(){return r.apply(null,arguments)},r},c.pipe=function(n){var t=c.slice(arguments),e={};return e.end=n,e.into=e.then=function(n){var e=t.concat(c.slice(arguments,1));return c.pipe(c.expect.fun(n).apply(null,e))},e},c.id=function(n){return n},c.failWith=function(n){throw n instanceof Error?n:new Error(n)},c.prop=function(n,e){return null==n?void 0:n[e]},c.slice=function(n,e,t){return null==n?n:(arguments.length<3&&(t=n.length),arguments.length<2&&(e=0),[].slice.call(n,e,t))},c.unshift=function(n,e){return[e].concat(n)},c.reverse=function(n){return c.is.str(n)?c.slice(n).reverse().join(""):c.is.obj(n)?c.slice(n).reverse():n},c.reduce=function(n,e,t){if(c.expect.reduceable(n),c.expect.fun(e),0===n.length){if(arguments.length<3)throw new Error("Invalid call of fpc.reduce() with zero-length value");return t}for(var r=arguments.length<3?n[0]:e(t,n[0]),u=n.length,o=1;o<u;o++)r=e(r,n[o]);return r},c.map=function(n,t){return c.expect.fun(t),c.reduce(n,function(n,e){return n.push(t(e)),n},[])},c.pair=function(n,e){return[n,e]},c.first=function(n){return c.prop(n,0)},c.second=function(n){return c.prop(n,1)},c.last=function(n){return c.is.num((n||{}).length)?c.prop(n,n.length-1):void 0},c.flip=function(n){return c.expect.fun(n),function(){return n.apply(null,c.reverse(arguments))}},c.sum=function(n){return c.reduce(1<arguments.length?arguments:n,function(n,e){return n+e})},c.cat=function(n){return c.sum.apply(null,c.map(1<arguments.length?arguments:n,String))},c.bound=function(n,e,t){return Math.max(e,Math.min(t,n))},c.unbox=function(n){var e=(n||{}).valueOf();return"object"!=typeof e&&"function"!=typeof e?e:n},c.typeOf=function(n){return null===n?"null":typeof c.unbox(n)},c.is={num:t("number"),str:t("string"),sym:t("symbol"),obj:t("object"),fun:t("function"),bool:t("boolean"),reduceable:function(n){return c.is.num(c.prop(n,"length"))}},c.expect={num:r("number"),str:r("string"),sym:r("symbol"),obj:r("object"),fun:r("function"),bool:r("boolean"),reduceable:function(n){return c.is.reduceable(n)?n:c.failWith(new Error("Expected a reduceable value"))}},c.call=function(n,e){return c.expect.fun(c.prop(n,e)).apply(n,c.slice(arguments,2))},c.pass=function(n){var e=c.slice(arguments,2);return e.unshift(n),c.pipe(arguments).into(c.second).then(c.expect.fun).end.apply(null,e),n},c.log="object"!=typeof console?c.id:function(n){return console.log.apply(null,arguments),n},c.show=function(n){return c.log.apply(null,c.pipe(arguments).into(c.slice,1).then(c.pass,c.call,"push",n).end),n},c});
