!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.fpc=e()}(this,function(){"use strict";var c={};function t(e,n){return arguments.length<2?function(n){return t(e,n)}:c.typeOf(n)===e}function r(e,n){return arguments.length<2?function(n){return r(e,n)}:(t(e,n)||c.failWith(new Error("Expected "+e+", got "+c.typeOf(n))),c.unbox(n))}return c.compose=function(n){var e=c.slice(arguments,1);function r(){return n.apply(null,c.slice(arguments).concat(e))}return c.expect.fun(n),r.and=r["with"]=function(e){var t=c.slice(arguments,1);return c.expect.fun(e),c.compose(function(){var n=c.unshift(t,r.apply(null,arguments));return e.apply(null,n)})},r.ply=function(){return r.apply(null,arguments)},r},c.pipe=function(n){var t=c.slice(arguments),e={};return e.end=n,e.into=function(n){var e=t.concat(c.slice(arguments,1));return c.pipe(c.expect.fun(n).apply(null,e))},e.then=e.into,e},c.id=function(n){return n},c.failWith=function(n){throw n instanceof Error?n:new Error(n)},c.prop=function(n,e){if(null!=n)return c.is.str(n)&&c.is.num(e)?n.charAt(e):n[e]},c.slice=function(n,e,t){var r,u,o;return null==n?n:(o=arguments.length<3?n.length:t,u=arguments.length<2?0:e,r=c.is.str(n)?n.split(""):n,[].slice.call(r,u,o))},c.unshift=function(n,e){return[e].concat(n)},c.reverse=function(n){return c.is.str(n)?c.slice(n).reverse().join(""):c.is.obj(n)?c.slice(n).reverse():n},c.reduce=function(n,e,t){var r,u,o;if(c.expect.reduceable(n),c.expect.fun(e),0===n.length){if(arguments.length<3)throw new Error("Invalid call of fpc.reduce() with zero-length value");return t}for(r=arguments.length<3?c.prop(n,0):e(t,c.prop(n,0)),u=n.length,o=1;o<u;o++)r=e(r,c.prop(n,o));return r},c.map=function(n,t){return c.expect.fun(t),c.reduce(n,function(n,e){return n.push(t(e)),n},[])},c.filter=function(n,t){return c.expect.fun(t),c.reduce(n,function(n,e){return t(e)&&n.push(e),n},[])},c.forEach=function(n,t){return c.expect.fun(t),c.reduce(n,function(n,e){t(e)},null),n},c.pair=function(n,e){return[n,e]},c.first=function(n){return c.prop(n,0)},c.second=function(n){return c.prop(n,1)},c.last=function(n){return c.is.num((n||{}).length)?c.prop(n,n.length-1):void 0},c.flip=function(n){return c.expect.fun(n),function(){return n.apply(null,c.reverse(arguments))}},c.sum=function(n){return c.reduce(1<arguments.length?arguments:n,function(n,e){return n+e})},c.cat=function(n){var e=1<arguments.length?arguments:n;return c.sum.apply(null,c.map(e,String))},c.bound=function(n,e,t){return Math.max(e,Math.min(t,n))},c.unbox=function(n){var e=(n||{}).valueOf();return"object"!=typeof e&&"function"!=typeof e?e:n},c.typeOf=function(n){return null===n?"null":typeof c.unbox(n)},c.is={num:t("number"),str:t("string"),sym:t("symbol"),obj:t("object"),fun:t("function"),bool:t("boolean"),reduceable:function(n){return c.is.num(c.prop(n,"length"))}},c.expect={num:r("number"),str:r("string"),sym:r("symbol"),obj:r("object"),fun:r("function"),bool:r("boolean"),reduceable:function(n){return c.is.reduceable(n)?n:c.failWith(new Error("Expected a reduceable value"))}},c.call=function(n,e){return c.expect.fun(c.prop(n,e)).apply(n,c.slice(arguments,2))},c.pass=function(n){var e=c.slice(arguments,2);return e.unshift(n),c.pipe(arguments).into(c.second).then(c.expect.fun).end.apply(null,e),n},"object"==typeof console?c.log=function(n){return console.log.apply(null,arguments),n}:c.log=c.id,c.show=function(n){var e=c.pipe(arguments).into(c.slice,1).then(c.pass,c.call,"push",n).end;return c.log.apply(null,e),n},c});
